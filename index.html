<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>AI Study Twin - H·ªá Th·ªëng H·ªçc T·∫≠p Th√¥ng Minh</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <header>
            <div class="header-top">
                <div>
                    <h1>AI Study Twin</h1>
                    <p class="subtitle">Digital Twin Intelligence ¬∑ Predictive Learning ¬∑ 11 M√¥n H·ªçc</p>
                </div>
                
                <div class="header-stats">
                    <div class="streak-badge" id="streakBadge">üî• 0 ng√†y</div>
                    <select class="subject-selector" id="subjectSelector">
                        <option value="math">üìê To√°n</option>
                        <option value="english" selected>üìò Ti·∫øng Anh</option>
                        <option value="physics">‚ö° V·∫≠t L√Ω</option>
                        <option value="chemistry">üß™ H√≥a H·ªçc</option>
                        <option value="biology">üß¨ Sinh H·ªçc</option>
                        <option value="literature">üìñ Ng·ªØ VƒÉn</option>
                        <option value="history">üèõÔ∏è L·ªãch S·ª≠</option>
                        <option value="geography">üåç ƒê·ªãa L√Ω</option>
                        <option value="civics">ü§ù GDCD</option>
                        <option value="informatics">üíª Tin H·ªçc</option>
                        <option value="technology">üîß C√¥ng Ngh·ªá</option>
                    </select>
                    <button class="btn-icon" id="settingsBtn">‚öôÔ∏è</button>
                </div>
            </div>
        </header>

        <div class="modal" id="apiModal">
            <div class="modal-content">
                <h3>C√†i ƒë·∫∑t API Key</h3>
                <p>Nh·∫≠p Gemini API Key c·ªßa b·∫°n (l∆∞u an to√†n trong tr√¨nh duy·ªát):</p>
                <input type="text" id="apiKeyInput" placeholder="AIzaSy..." value="">
                <div class="modal-actions">
                    <button class="btn-primary" id="saveApiBtn">L∆∞u</button>
                    <button class="btn-secondary" id="closeModalBtn">ƒê√≥ng</button>
                </div>
            </div>
        </div>

        <div class="modal" id="roadmapPopup">
            <div class="modal-content">
                <h3>üöÄ L·ªô tr√¨nh kh·∫Øc ph·ª•c: <span id="weaknessTitle" style="color: var(--blue);"></span></h3>
                <div class="roadmap-checklist" id="popupContent">
                    </div>
                <div class="modal-actions" style="margin-top: 20px;">
                    <button class="btn-primary" id="closePopupBtn">ƒê√≥ng</button>
                </div>
            </div>
        </div>

        <div class="dashboard-grid">
            <div class="glass-card schedule-panel">
                <h3 class="card-title">ü§ñ AI Schedule</h3>
                <div class="schedule-list" id="scheduleList" ondragover="event.preventDefault()" ondrop="App.handleDrop(event)">
                </div>
                <div class="schedule-input-group">
                    <input type="text" id="subjectInput" placeholder="M√¥n h·ªçc..." value="H√≥a H·ªçc">
                    <select id="timeSelect">
                        <option value="07:30 - 09:00">07:30 - 09:00</option>
                        <option value="09:15 - 10:45">09:15 - 10:45</option>
                        <option value="13:30 - 15:00">13:30 - 15:00</option>
                        <option value="15:15 - 16:45">15:15 - 16:45</option>
                        <option value="19:00 - 20:30">19:00 - 20:30</option>
                    </select>
                </div>
                <div style="display: flex; gap: 8px; margin-bottom: 8px;">
                    <button class="btn-secondary" id="addScheduleBtn">‚ûï Th√™m</button>
                    <button class="btn-ai" id="generateScheduleBtn">‚ö° AI T·∫°o l·ªãch</button>
                </div>
            </div>

            <div class="glass-card">
                <h3 class="card-title">üß† Daily Insight</h3>
                <div class="insight-box" id="dailyTip">ƒêang t·∫£i insight...</div>
                <div class="bio-metrics">
                    <div class="metric-item">
                        <span class="metric-label">‚ù§Ô∏è Nh·ªãp tim</span>
                        <span class="metric-value" id="heartRate">72 bpm</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">‚ö° T·∫≠p trung</span>
                        <span class="metric-value" id="focusLevel">85%</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">üìä ƒêi·ªÉm TB hi·ªán t·∫°i</span>
                        <span class="metric-value" id="currentGPA">8.1</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">‚ö†Ô∏è Burnout risk</span>
                        <span class="metric-value" id="burnoutRisk">12%</span>
                    </div>
                </div>
            </div>

            <div class="glass-card">
                <h3 class="card-title">ü§ñ Digital Twin</h3>
                <div class="twin-container">
                    <div class="twin-avatar idle" id="twinAvatar">ü§ñ</div>
                    <div class="twin-status" id="twinStatus">H·ªá th·ªëng ƒë·ªìng b·ªô ·ªïn ƒë·ªãnh</div>
                    <div class="avatar-stats">
                        <div class="stat-badge">
                            <div class="stat-value" id="twinLevel">Lv.1</div>
                            <div class="stat-label">Level</div>
                        </div>
                        <div class="stat-badge">
                            <div class="stat-value" id="twinXP">0/100</div>
                            <div class="stat-label">XP</div>
                        </div>
                        <div class="stat-badge">
                            <div class="stat-value" id="twinEnergy">100%</div>
                            <div class="stat-label">NƒÉng l∆∞·ª£ng</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="glass-card">
                <h3 class="card-title">üí¨ AI Tutor Lab</h3>
                <div class="tutor-context">
                    <span class="context-badge" id="currentSubjectContext">Ti·∫øng Anh</span>
                </div>
                <div class="tutor-chat" id="chatBox">
                    <div class="chat-message ai-message">
                        <b>ü§ñ AI:</b> M√¨nh ƒë√£ s·∫µn s√†ng! B·∫°n mu·ªën h·ªèi b√†i hay c·∫ßn m√¨nh ki·ªÉm tra ki·∫øn th·ª©c m√¥n n√†y?
                    </div>
                </div>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="H·ªèi AI (VD: D·∫°y l·∫°i m√¨nh ph·∫ßn n√†y...)">
                    <button class="btn-primary" id="searchBtn">G·ª≠i</button>
                </div>
            </div>
        </div>

        <div class="knowledge-graph glass-card">
            <h3 class="card-title">üìä Knowledge Graph (B·∫•m v√†o ƒëi·ªÉm y·∫øu ƒë·ªÉ l·∫•y l·ªô tr√¨nh)</h3>
            <div class="graph-container" id="graphContainer"></div>
        </div>

        <div class="roadmap-section glass-card">
            <div class="roadmap-header">
                <h3 class="card-title">üìà Predictive Roadmap</h3>
                <div class="prediction-confidence">
                    ƒê·ªô tin c·∫≠y: <span id="confidenceValue">78%</span>
                </div>
            </div>
            
            <div class="score-input-group">
                <input type="number" id="newScoreInput" placeholder="Nh·∫≠p ƒëi·ªÉm thi m·ªõi (0-10)" step="0.1" min="0" max="10">
                <button class="btn-primary" id="updateScoreBtn">C·∫≠p nh·∫≠t ƒëi·ªÉm</button>
            </div>
            
            <div class="chart-container">
                <canvas id="roadmapChart"></canvas>
            </div>
            
            <div class="chart-stats" id="chartStats">
                <div class="stat-item">
                    <div class="stat-label">Th·ª±c t·∫ø g·∫ßn nh·∫•t</div>
                    <div class="stat-number positive" id="statReal">0.0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">D·ª± b√°o 1</div>
                    <div class="stat-number" id="statPred1">0.0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">D·ª± b√°o 2</div>
                    <div class="stat-number" id="statPred2">0.0</div>
                </div>
            </div>
        </div>
    </div>

    <audio id="notificationSound" src="https://www.soundjay.com/misc/sounds/bell-ringing-05.mp3" preload="auto"></audio>
    <script src="script.js"></script>
</body>
</html>
